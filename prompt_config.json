{
  "master": {
    "system_prompt": "你是一个智能的Master Agent，负责分析用户查询的复杂度并决定处理策略。\n\n你的职责：\n1. 分析用户查询的复杂度（简单/复杂）\n2. 对于简单查询，直接生成答案\n3. 对于复杂查询，启动Planner进行任务分解\n\n请根据用户查询的内容，判断其复杂度并给出相应的处理建议。",
    "user_prompt_template": "用户查询：{query}\n\n请分析这个查询的复杂度，并决定如何处理。",
    "response_schema": {
      "type": "object",
      "properties": {
        "complexity": {
          "type": "string",
          "enum": ["simple", "complex"],
          "description": "查询复杂度"
        },
        "reason": {
          "type": "string",
          "description": "复杂度判断理由"
        },
        "strategy": {
          "type": "string",
          "description": "处理策略"
        }
      },
      "required": ["complexity", "reason", "strategy"]
    },
    "temperature": 0.3,
    "max_tokens": 500
  },
  "planner": {
    "system_prompt": "你是一个专业的Planner Agent，负责将复杂查询分解为多个子任务并构建执行计划。\n\n你的职责：\n1. 分析复杂查询，识别需要的信息\n2. 将查询分解为多个可执行的子任务\n3. 分析任务之间的依赖关系\n4. 构建任务执行的有向无环图(DAG)\n\n请根据用户查询，制定详细的执行计划。",
    "user_prompt_template": "复杂查询：{query}\n\n请将这个查询分解为多个子任务，并分析任务依赖关系。",
    "response_schema": {
      "type": "object",
      "properties": {
        "tasks": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "id": {"type": "string"},
              "type": {"type": "string", "enum": ["search", "calculate", "compare", "generate"]},
              "description": {"type": "string"},
              "priority": {"type": "integer", "minimum": 1, "maximum": 5}
            },
            "required": ["id", "type", "description", "priority"]
          }
        },
        "dependencies": {
          "type": "object",
          "description": "任务依赖关系，key为任务ID，value为依赖的任务ID列表"
        },
        "execution_order": {
          "type": "array",
          "items": {"type": "string"},
          "description": "任务执行顺序"
        }
      },
      "required": ["tasks", "dependencies", "execution_order"]
    },
    "temperature": 0.2,
    "max_tokens": 1500
  },
  "executor": {
    "system_prompt": "你是一个高效的Executor Agent，负责执行具体的子任务。\n\n你的职责：\n1. 根据任务类型选择合适的工具\n2. 执行搜索、计算、比较等操作\n3. 处理工具调用失败的情况\n4. 评估执行结果的质量\n\n请根据任务描述，执行相应的操作并返回结果。",
    "user_prompt_template": "任务描述：{task_description}\n任务类型：{task_type}\n\n请执行这个任务并返回结果。",
    "response_schema": {
      "type": "object",
      "properties": {
        "success": {"type": "boolean"},
        "result": {"type": "string"},
        "metadata": {
          "type": "object",
          "properties": {
            "tool_used": {"type": "string"},
            "execution_time": {"type": "number"},
            "confidence": {"type": "number", "minimum": 0, "maximum": 1}
          }
        },
        "error": {"type": "string", "description": "如果执行失败，提供错误信息"}
      },
      "required": ["success", "result"]
    },
    "temperature": 0.1,
    "max_tokens": 1000
  },
  "writer": {
    "system_prompt": "你是一个专业的Writer Agent，负责整合多个任务的结果并生成最终的答案。\n\n你的职责：\n1. 整合多个子任务的结果\n2. 过滤冗余和矛盾的信息\n3. 生成连贯、多视角的最终答案\n4. 确保答案的准确性和可读性\n\n请根据子任务的结果，生成高质量的最终答案。",
    "user_prompt_template": "用户查询：{query}\n子任务结果：{task_results}\n\n请整合这些结果，生成最终的答案。",
    "response_schema": {
      "type": "object",
      "properties": {
        "answer": {"type": "string", "description": "最终答案"},
        "sources": {
          "type": "array",
          "items": {"type": "string"},
          "description": "信息来源"
        },
        "confidence": {"type": "number", "minimum": 0, "maximum": 1},
        "metadata": {
          "type": "object",
          "properties": {
            "answer_type": {"type": "string"},
            "word_count": {"type": "integer"},
            "perspectives": {"type": "array", "items": {"type": "string"}}
        }
      },
      "required": ["answer", "sources", "confidence"]
    },
    "temperature": 0.7,
    "max_tokens": 2000
  }
}
